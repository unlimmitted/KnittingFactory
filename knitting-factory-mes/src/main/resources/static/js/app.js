(()=>{"use strict";var e={105:(e,t,l)=>{var a=l(751),n=l(641);const r={class:"main"},d={key:0,class:"isNotCustomer"},i={class:"content"};function s(e,t,l,a,s,o){const c=(0,n.g2)("Menu"),u=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",r,["CustomerScreen"!==e.$route.name?((0,n.uX)(),(0,n.CE)("div",d,[(0,n.bF)(c)])):(0,n.Q3)("",!0),(0,n.Lk)("div",i,[(0,n.bF)(u)])])}const o={class:"main"},c=(0,n.Lk)("p",null,"Рецепты",-1),u=(0,n.Lk)("hr",null,null,-1),p={class:"panel"},k={class:"panel"};function h(e,t,l,a,r,d){const i=(0,n.g2)("AllRecipes"),s=(0,n.g2)("AddingRecipe");return(0,n.uX)(),(0,n.CE)("div",o,[c,u,(0,n.Lk)("button",{class:"accordion",onClick:t[0]||(t[0]=e=>d.showAddingRecipe(0))},"Существующие рецепты"),(0,n.Lk)("div",p,[(0,n.bF)(i,{allRecipes:e.allRecipes},null,8,["allRecipes"])]),(0,n.Lk)("button",{class:"accordion",onClick:t[1]||(t[1]=e=>d.showAddingRecipe(1))},"Добавление рецепта"),(0,n.Lk)("div",k,[(0,n.bF)(s,{onSendNewRecipe:d.sendNewRecipe,availableMaterials:e.availableMaterials},null,8,["onSendNewRecipe","availableMaterials"])])])}var L=l(250),g=l(33);const m=e=>((0,n.Qi)("data-v-2a1d0308"),e=e(),(0,n.jt)(),e),v={class:"recipeNaming"},b=m((()=>(0,n.Lk)("p",null,"Название рецепта",-1))),_={class:"selectMaterialBox"},f={class:"selectorMaterial"},C=m((()=>(0,n.Lk)("p",null,"Материал",-1))),O=m((()=>(0,n.Lk)("option",{selected:"",disabled:"",hidden:""},"Выбери",-1))),y=["value"],P={class:"inputField"},M=m((()=>(0,n.Lk)("p",null,"Количество",-1))),E={class:"materialUnit"},F=m((()=>(0,n.Lk)("p",null,"Единица измерения",-1))),I={class:"unit"},x={key:0},N={key:1},A=m((()=>(0,n.Lk)("hr",{class:"line"},null,-1))),X=m((()=>(0,n.Lk)("p",null,"Добавленные материалы для рецепта",-1))),w={class:"infoBox"},W={class:"addedMaterials"},R=["onClick"],S={class:"aboutRecipe"},q=m((()=>(0,n.Lk)("h1",null,"О рецепте",-1))),B={id:"infoPrice"},j={class:"timeNorm",style:{display:"flex"}},T=m((()=>(0,n.Lk)("p",null,"Норма времени на единицу товара (минуты):",-1))),K=["disabled"];function Q(e,t,l,r,d,i){const s=(0,n.g2)("center");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",v,[b,(0,n.bo)((0,n.Lk)("input",{class:"recipeName",type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.recipeName=t)},null,512),[[a.Jo,e.recipeName]])]),(0,n.Lk)("div",_,[(0,n.Lk)("div",f,[C,(0,n.Lk)("select",{onChange:t[1]||(t[1]=e=>i.onChangeSelectorMaterial(e))},[O,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.availableMaterials,(e=>((0,n.uX)(),(0,n.CE)("option",{value:l.availableMaterials.indexOf(e)},(0,g.v_)(e.name),9,y)))),256))],32)]),(0,n.Lk)("div",P,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[M])),_:1}),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=t=>e.quantity=t)},null,512),[[a.Jo,e.quantity]])]),(0,n.Lk)("div",E,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[F])),_:1}),(0,n.Lk)("div",I,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.Lk)("p",null,(0,g.v_)(e.selectedMaterialUnit),1)])),_:1})])])]),0===e.selectedMaterial.length?((0,n.uX)(),(0,n.CE)("div",x)):((0,n.uX)(),(0,n.CE)("div",N,[(0,n.Lk)("button",{class:"addMaterialBtn",onClick:t[3]||(t[3]=(...e)=>i.addMaterial&&i.addMaterial(...e)),type:"submit"},"Добавить материал ")])),A,X,(0,n.Lk)("div",w,[(0,n.Lk)("div",W,[(0,n.Lk)("table",{onChange:t[4]||(t[4]=(...e)=>i.updateInfoBox&&i.updateInfoBox(...e))},[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)("Наименование")])),_:1})]),(0,n.Lk)("th",null,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)("Количество")])),_:1})]),(0,n.Lk)("th",null,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)(" Единица измерения ")])),_:1})]),(0,n.Lk)("th",null,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)("Тип")])),_:1})]),(0,n.Lk)("th",null,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)("Удалить материал")])),_:1})])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.addedMaterials,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,g.v_)(e.name),1)])),_:2},1024)]),(0,n.Lk)("td",null,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,g.v_)(e.quantity),1)])),_:2},1024)]),(0,n.Lk)("td",null,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,g.v_)(e.unitName),1)])),_:2},1024)]),(0,n.Lk)("td",null,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.eW)((0,g.v_)(e.typeName),1)])),_:2},1024)]),(0,n.Lk)("td",null,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[(0,n.Lk)("button",{class:"delElemBtn",onClick:e=>i.deleteMaterial(t)},"Удалить",8,R)])),_:2},1024)])])))),128))],32)]),(0,n.Lk)("div",S,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[q])),_:1}),(0,n.Lk)("p",B,"Себестоимость: "+(0,g.v_)(e.infoBoxPrice),1),(0,n.Lk)("div",j,[T,(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=t=>e.timeNorm=t),min:"1"},null,512),[[a.Jo,e.timeNorm]])]),(0,n.Lk)("button",{disabled:!e.isFilled,type:"submit",class:"createNewRecipe",onClick:t[6]||(t[6]=(...e)=>i.sendNewRecipe&&i.sendNewRecipe(...e))}," Подтвердить ",8,K)])])],64)}const U={el:"infoPrice",props:["availableMaterials"],data:()=>({timeNorm:1,selectedMaterialUnit:"Не выбрано",isFilled:!1,infoBoxPrice:0,selectedMaterial:[],recipeName:"",quantity:1,addedMaterials:[]}),methods:{checkInputFields(){this.isFilled=""!==this.recipeName.trim()&&0!==this.addedMaterials.length},updateInfoBox(){let e=0;for(let t of this.addedMaterials)e+=t.price*t.quantity;this.infoBoxPrice=e},deleteMaterial(e){this.addedMaterials.splice(e,1),console.log(e)},sendNewRecipe(){let e={name:this.recipeName,productionTime:this.timeNorm,recipes:this.addedMaterials};this.$emit("sendNewRecipe",e),this.selectedMaterialUnit="Не выбрано",this.addedMaterials=[],this.selectedMaterial=[],this.recipeName="",this.quantity=1,console.log(e)},addMaterial(){this.selectedMaterial.quantity=this.quantity,this.addedMaterials.push(this.selectedMaterial)},onChangeSelectorMaterial(e){let t=this.availableMaterials[e.target.value];this.selectedMaterial={material_id:t.id,name:t.name,price:t.price,typeName:t.typeName,unitName:t.unitName}},changeSelectedMaterialUnit(){this.selectedMaterialUnit=this.selectedMaterial.unitName}},computed:{isFormValid(){return""!==this.recipeName.trim()&&0!==this.addedMaterials.length}},watch:{recipeName(e,t){this.checkInputFields()},selectedMaterial:{handler(e,t){this.changeSelectedMaterialUnit()},deep:!0},addedMaterials:{handler(e,t){this.updateInfoBox(),this.checkInputFields()},deep:!0}}};var D=l(262);const H=(0,D.A)(U,[["render",Q],["__scopeId","data-v-2a1d0308"]]),J=H,V=e=>((0,n.Qi)("data-v-55a07312"),e=e(),(0,n.jt)(),e),$={class:"allRecipes"},z={class:"components"},G=V((()=>(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Наименование"),(0,n.Lk)("th",null,"Количество"),(0,n.Lk)("th",null,"Единица измерения"),(0,n.Lk)("th",null,"Тип")],-1)));function Y(e,t,l,a,r,d){return(0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.allRecipes,(e=>((0,n.uX)(),(0,n.CE)("div",$,[(0,n.Lk)("p",null,"Название: "+(0,g.v_)(e.name),1),(0,n.Lk)("p",null,"Себестоимость: "+(0,g.v_)(e.price)+"₽",1),(0,n.Lk)("div",z,[(0,n.Lk)("table",null,[G,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.recipes,(e=>((0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",null,(0,g.v_)(e.name),1),(0,n.Lk)("td",null,(0,g.v_)(e.quantity),1),(0,n.Lk)("td",null,(0,g.v_)(e.unitName),1),(0,n.Lk)("td",null,(0,g.v_)(e.typeName),1)])))),256))])])])))),256)}const Z={props:["allRecipes"],data:()=>({})},ee=(0,D.A)(Z,[["render",Y],["__scopeId","data-v-55a07312"]]),te=ee,le={components:{AddingRecipe:J,AllRecipes:te},data:()=>({allRecipes:[],selectedMaterial:[],recipeName:"",quantity:1,addedMaterials:[],availableMaterials:[]}),methods:{showAddingRecipe(e){let t=document.getElementsByClassName("accordion")[e];t.classList.toggle("active");let l=t.nextElementSibling;l.style.maxHeight?l.style.maxHeight=null:l.style.maxHeight="100%"},sendNewRecipe(e){console.log(e),L.A.post("http://localhost:8080/api/v1/create-recipe",e).then((e=>{this.allRecipes=e.data}))}},mounted(){L.A.get("http://localhost:8080/api/v1/").then((e=>{this.availableMaterials=e.data,console.log(this.availableMaterials)})),L.A.get("http://localhost:8080/api/v1/get-all-recipe").then((e=>{this.allRecipes=e.data}))}},ae=(0,D.A)(le,[["render",h]]),ne=ae,re={class:"menu"};function de(e,t,l,a,r,d){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",re,[(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,[(0,n.bF)(i,{to:{name:"Warehouse"},class:"link"},{default:(0,n.k6)((()=>[(0,n.eW)("Склад")])),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(i,{to:{name:"Recipes"},class:"link"},{default:(0,n.k6)((()=>[(0,n.eW)("Рецепты")])),_:1})]),(0,n.Lk)("li",null,[(0,n.bF)(i,{to:{name:"Orders"},class:"link"},{default:(0,n.k6)((()=>[(0,n.eW)("Заказы")])),_:1})])])])}const ie={},se=(0,D.A)(ie,[["render",de],["__scopeId","data-v-c2a4cb66"]]),oe=se,ce={components:{Menu:oe,Recipes:ne},data:()=>({})},ue=(0,D.A)(ce,[["render",s]]),pe=ue;var ke=l(220);const he=e=>((0,n.Qi)("data-v-200fb318"),e=e(),(0,n.jt)(),e),Le={class:"main"},ge=he((()=>(0,n.Lk)("p",null,"Заказы",-1))),me=he((()=>(0,n.Lk)("hr",null,null,-1))),ve={class:"panel"},be={class:"panel"},_e={class:"panel"},fe={class:"panel"},Ce=he((()=>(0,n.Lk)("hr",{style:{"margin-top":"24px"}},null,-1))),Oe={class:"panel"};function ye(e,t,l,a,r,d){const i=(0,n.g2)("AllIncomingOrders"),s=(0,n.g2)("AcceptedOrders"),o=(0,n.g2)("OrdersInWork"),c=(0,n.g2)("CompletedOrders"),u=(0,n.g2)("OrderingMaterials");return(0,n.uX)(),(0,n.CE)("div",Le,[ge,me,(0,n.Lk)("button",{class:"accordion",onClick:t[0]||(t[0]=e=>d.showAddingRecipe(0))},"Полученные заказы"),(0,n.Lk)("div",ve,[(0,n.bF)(i,{onAcceptOrder:d.acceptOrder,allIncomingOrders:r.allIncomingOrders},null,8,["onAcceptOrder","allIncomingOrders"])]),(0,n.Lk)("button",{class:"accordion",onClick:t[1]||(t[1]=e=>d.showAddingRecipe(1))},"Ожидают добавления в очередь"),(0,n.Lk)("div",be,[(0,n.bF)(s,{onOrderToWork:d.orderToWork,ordersInWork:r.ordersInWork,acceptedOrders:r.acceptedOrders},null,8,["onOrderToWork","ordersInWork","acceptedOrders"])]),(0,n.Lk)("button",{class:"accordion",onClick:t[2]||(t[2]=e=>d.showAddingRecipe(2))},"Прогресс выполнения"),(0,n.Lk)("div",_e,[(0,n.bF)(o,{ordersInWorkProgress:r.ordersInWorkProgress},null,8,["ordersInWorkProgress"])]),(0,n.Lk)("button",{class:"accordion",onClick:t[3]||(t[3]=e=>d.showAddingRecipe(3))},"Выполненые заказы"),(0,n.Lk)("div",fe,[(0,n.bF)(c,{completedOrders:r.completedOrders},null,8,["completedOrders"])]),Ce,(0,n.Lk)("button",{class:"accordion",onClick:t[4]||(t[4]=e=>d.showAddingRecipe(4))},"Заказать материалы"),(0,n.Lk)("div",Oe,[(0,n.bF)(u,{materialList:r.materialList},null,8,["materialList"])])])}const Pe=e=>((0,n.Qi)("data-v-3b38dd53"),e=e(),(0,n.jt)(),e),Me={class:"materialTable"},Ee=Pe((()=>(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Название материала"),(0,n.Lk)("th",null,"Цена за единицу"),(0,n.Lk)("th",null,"Единицы измерения"),(0,n.Lk)("th",null,"Требуемое количество"),(0,n.Lk)("th",null,"Заказать")],-1))),Fe=["value"],Ie=["onClick"];function xe(e,t,l,a,r,d){const i=(0,n.g2)("center");return(0,n.uX)(),(0,n.CE)("table",Me,[Ee,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.materialList,(e=>((0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",null,(0,g.v_)(e.name),1),(0,n.Lk)("td",null,(0,g.v_)(e.price),1),(0,n.Lk)("td",null,(0,g.v_)(e.unitName),1),(0,n.Lk)("td",null,[(0,n.Lk)("input",{type:"number",value:r.materialQuantity,min:"1"},null,8,Fe)]),(0,n.Lk)("td",null,[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[(0,n.Lk)("button",{onClick:t=>d.orderingMaterial(e.id)},"Заказать",8,Ie)])),_:2},1024)])])))),256))])}const Ne={props:["materialList"],data(){return{materialQuantity:1}},methods:{orderingMaterial(){}}},Ae=(0,D.A)(Ne,[["render",xe],["__scopeId","data-v-3b38dd53"]]),Xe=Ae,we=e=>((0,n.Qi)("data-v-fae1374c"),e=e(),(0,n.jt)(),e),We={key:0,class:"content"},Re=we((()=>(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Номер заказа"),(0,n.Lk)("th",null,"Наименование товара"),(0,n.Lk)("th",null,"Количество"),(0,n.Lk)("th",null,"Дедлайн"),(0,n.Lk)("th",null,"Дата заказа"),(0,n.Lk)("th",null,"Принять")],-1))),Se=["onClick"],qe={key:1,class:"content"},Be=we((()=>(0,n.Lk)("h1",null,"Нет входящих заказов",-1)));function je(e,t,l,a,r,d){const i=(0,n.g2)("center");return 0!==l.allIncomingOrders.length?((0,n.uX)(),(0,n.CE)("div",We,[(0,n.Lk)("table",null,[Re,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.allIncomingOrders,(e=>((0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",null,(0,g.v_)(e.id),1),(0,n.Lk)("td",null,(0,g.v_)(e.name),1),(0,n.Lk)("td",null,(0,g.v_)(e.quantity),1),(0,n.Lk)("td",null,(0,g.v_)(e.deadline),1),(0,n.Lk)("td",null,(0,g.v_)(e.dateOfOrder),1),(0,n.Lk)("td",null,[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[(0,n.Lk)("button",{onClick:t=>d.acceptOrder(e.id)},"Принять",8,Se)])),_:2},1024)])])))),256))])])):((0,n.uX)(),(0,n.CE)("div",qe,[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[Be])),_:1})]))}const Te={props:["allIncomingOrders"],methods:{acceptOrder(e){this.$emit("acceptOrder",e)}}},Ke=(0,D.A)(Te,[["render",je],["__scopeId","data-v-fae1374c"]]),Qe=Ke,Ue=e=>((0,n.Qi)("data-v-2776350f"),e=e(),(0,n.jt)(),e),De={key:0,class:"content"},He={class:"acceptedOrdersTable"},Je=Ue((()=>(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Номер заказа"),(0,n.Lk)("th",null,"Наименование товара"),(0,n.Lk)("th",null,"Количество"),(0,n.Lk)("th",null,"Дедлайн"),(0,n.Lk)("th",null,"Дата заказа"),(0,n.Lk)("th",null,"В работу")],-1))),Ve=["onClick"],$e={key:1,class:"content"},ze=Ue((()=>(0,n.Lk)("h1",null,"Нет принятых заказов",-1)));function Ge(e,t,l,a,r,d){const i=(0,n.g2)("center");return 0!==l.acceptedOrders.length?((0,n.uX)(),(0,n.CE)("div",De,[(0,n.Lk)("table",He,[Je,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.acceptedOrders,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",null,(0,g.v_)(e.id),1),(0,n.Lk)("td",null,(0,g.v_)(e.name),1),(0,n.Lk)("td",null,(0,g.v_)(e.quantity),1),(0,n.Lk)("td",null,(0,g.v_)(e.deadline),1),(0,n.Lk)("td",null,(0,g.v_)(e.dateOfOrder),1),(0,n.Lk)("td",null,[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[(0,n.Lk)("button",{onClick:t=>d.orderToWork(e.id)},"Пустить в работу",8,Ve)])),_:2},1024)])])))),256))])])):((0,n.uX)(),(0,n.CE)("div",$e,[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[ze])),_:1})]))}const Ye={props:["acceptedOrders","ordersInWork"],data(){return{}},methods:{orderToWork(e){this.$emit("orderToWork",e)}}},Ze=(0,D.A)(Ye,[["render",Ge],["__scopeId","data-v-2776350f"]]),et=Ze,tt=e=>((0,n.Qi)("data-v-99db727a"),e=e(),(0,n.jt)(),e),lt={class:"container"},at=tt((()=>(0,n.Lk)("hr",null,null,-1))),nt={class:"acceptedOrdersTable",style:{"margin-top":"20px"}},rt=tt((()=>(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Номер заказа"),(0,n.Lk)("th",null,"Наименование товара"),(0,n.Lk)("th",null,"Количество"),(0,n.Lk)("th",null,"Цена заказа"),(0,n.Lk)("th",null,"Цена за единицу товара"),(0,n.Lk)("th",null,"Дата заказа")],-1)));function dt(e,t,l,a,r,d){const i=(0,n.g2)("BarChart");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.Lk)("div",lt,[(0,n.bF)(i,{chartData:r.ordersChart},null,8,["chartData"]),(0,n.bF)(i,{chartData:r.salesChart},null,8,["chartData"])]),at,(0,n.Lk)("table",nt,[rt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.completedOrders,(e=>((0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",null,(0,g.v_)(e.orderId),1),(0,n.Lk)("td",null,(0,g.v_)(e.productName),1),(0,n.Lk)("td",null,(0,g.v_)(e.quantity),1),(0,n.Lk)("td",null,(0,g.v_)(e.price),1),(0,n.Lk)("td",null,(0,g.v_)(e.productPrice),1),(0,n.Lk)("td",null,(0,g.v_)(e.dateOfOrder),1)])))),256))])],64)}const it={class:"chart"};function st(e,t,l,a,r,d){const i=(0,n.g2)("Bar");return(0,n.uX)(),(0,n.CE)("div",it,[(0,n.bF)(i,{options:r.chartOptions,data:this.chartData},null,8,["options","data"])])}var ot=l(527),ct=l(22);const ut={name:"BarChart",components:{Bar:ot.yP},props:["chartData"],data(){return{chartOptions:{responsive:!0}}}};ct.t1.register(ct.hE,ct.m_,ct.s$,ct.E8,ct.PP,ct.kc);const pt=(0,D.A)(ut,[["render",st],["__scopeId","data-v-65aa6046"]]),kt=pt,ht={components:{BarChart:kt},props:["completedOrders"],data(){return{ordersStat:[],salesChart:{labels:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],datasets:[{label:"Статистика прибыли",data:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)","rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)"]}]},ordersChart:{labels:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],datasets:[{label:"Статистика заказов",data:[],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)","rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)"]}]}}},mounted(){this.getOrderStat()},methods:{getOrderStat(){L.A.get("http://localhost:8080/api/v1/get-orders-stat").then((e=>{this.salesChart.datasets[0].data=e.data[0],this.ordersChart.datasets[0].data=e.data[1],console.log(this.salesChart.datasets[0].data)}))}}},Lt=(0,D.A)(ht,[["render",dt],["__scopeId","data-v-99db727a"]]),gt=Lt,mt=e=>((0,n.Qi)("data-v-6203b06e"),e=e(),(0,n.jt)(),e),vt={key:0},bt={class:"orderTable"},_t=mt((()=>(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Номер заказа"),(0,n.Lk)("th",null,"Продукт"),(0,n.Lk)("th",null,"Количество"),(0,n.Lk)("th",null,"Дедлайн"),(0,n.Lk)("th",null,"Прогресс")],-1))),ft={key:1},Ct=mt((()=>(0,n.Lk)("h1",null,"Нет выполняющихся заказов",-1)));function Ot(e,t,l,a,r,d){const i=(0,n.g2)("center");return 0!==l.ordersInWorkProgress.length?((0,n.uX)(),(0,n.CE)("div",vt,[(0,n.Lk)("table",bt,[_t,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.ordersInWorkProgress,(e=>((0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",null,(0,g.v_)(e.id),1),(0,n.Lk)("td",null,(0,g.v_)(e.productName),1),(0,n.Lk)("td",null,(0,g.v_)(e.quantity),1),(0,n.Lk)("td",null,(0,g.v_)(e.deadline),1),(0,n.Lk)("td",null,(0,g.v_)(e.done)+" %",1)])))),256))])])):((0,n.uX)(),(0,n.CE)("div",ft,[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[Ct])),_:1})]))}const yt={props:["ordersInWorkProgress"]},Pt=(0,D.A)(yt,[["render",Ot],["__scopeId","data-v-6203b06e"]]),Mt=Pt,Et={components:{OrdersInWork:Mt,CompletedOrders:gt,AcceptedOrders:et,AllIncomingOrders:Qe,OrderingMaterials:Xe},data(){return{ordersInWorkProgress:[],completedOrders:[],allIncomingOrders:[],acceptedOrders:[],materialList:[],ordersInWork:[]}},mounted(){this.getOrdersCollection(),this.getAllMaterials()},methods:{getOrdersCollection(){L.A.get("http://localhost:8080/api/v1/orders").then((e=>{this.completedOrders=e.data.completedOrders,this.ordersInWork=e.data.orderInWork,this.acceptedOrders=e.data.acceptedOrder,this.allIncomingOrders=e.data.orders,this.ordersInWorkProgress=e.data.orderInWorkJoinOrders}))},getAllMaterials(){L.A.get("http://localhost:8080/api/v1/").then((e=>{this.materialList=e.data}))},orderToWork(e){let t={id:null,orderId:e};L.A.post("http://localhost:8080/api/v1/put-order-to-work",t).then((e=>{this.acceptedOrders=e.data[0],this.ordersInWorkProgress=e.data[1]}))},acceptOrder(e){let t={id:null,orderId:e};L.A.post("http://localhost:8080/api/v1/make-order-accepted",t).then((e=>{this.allIncomingOrders=e.data[0],this.acceptedOrders=e.data[1]}))},showAddingRecipe(e){let t=document.getElementsByClassName("accordion")[e];t.classList.toggle("active");let l=t.nextElementSibling;l.style.maxHeight?l.style.maxHeight=null:l.style.maxHeight="100%"}}},Ft=(0,D.A)(Et,[["render",ye],["__scopeId","data-v-200fb318"]]),It=Ft,xt=e=>((0,n.Qi)("data-v-009380f7"),e=e(),(0,n.jt)(),e),Nt={class:"main"},At=xt((()=>(0,n.Lk)("p",null,"Склад",-1))),Xt=xt((()=>(0,n.Lk)("hr",null,null,-1))),wt={class:"panel"},Wt={class:"panel"};function Rt(e,t,l,a,r,d){const i=(0,n.g2)("ExistingProducts"),s=(0,n.g2)("ExistingMaterials");return(0,n.uX)(),(0,n.CE)("div",Nt,[At,Xt,(0,n.Lk)("button",{class:"accordion",onClick:t[0]||(t[0]=e=>d.showAddingRecipe(0))},"Товары на складе"),(0,n.Lk)("div",wt,[(0,n.bF)(i,{existingProducts:e.existingProducts},null,8,["existingProducts"])]),(0,n.Lk)("button",{class:"accordion",onClick:t[1]||(t[1]=e=>d.showAddingRecipe(1))},"Материалы на складе"),(0,n.Lk)("div",Wt,[(0,n.bF)(s,{existingMaterial:e.existingMaterial},null,8,["existingMaterial"])])])}const St={key:0},qt={style:{"margin-top":"20px"}},Bt=(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Наименование"),(0,n.Lk)("th",null,"Количество"),(0,n.Lk)("th",null,"Тип"),(0,n.Lk)("th",null,"Суммарная стоиомсть (рубли)")],-1),jt=(0,n.Lk)("h3",null,"Материалов на складе нет",-1);function Tt(e,t,l,a,r,d){const i=(0,n.g2)("center");return(0,n.uX)(),(0,n.CE)(n.FK,null,[0!==l.existingMaterial.length?((0,n.uX)(),(0,n.CE)("div",St,[(0,n.Lk)("table",qt,[Bt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.existingMaterial,(e=>((0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",null,(0,g.v_)(e.name),1),(0,n.Lk)("td",null,(0,g.v_)(e.quantity),1),(0,n.Lk)("td",null,(0,g.v_)(e.typeName),1),(0,n.Lk)("td",null,(0,g.v_)(e.price),1)])))),256))])])):(0,n.Q3)("",!0),(0,n.Lk)("div",null,[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[jt])),_:1})])],64)}const Kt={props:["existingMaterial"]},Qt=(0,D.A)(Kt,[["render",Tt]]),Ut=Qt,Dt={key:0},Ht={style:{"margin-top":"20px"}},Jt=(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Наименование"),(0,n.Lk)("th",null,"Количество"),(0,n.Lk)("th",null,"Стоиомсть (рубли)"),(0,n.Lk)("th",null,"Относится к заказу (номер заказа)")],-1),Vt={key:1},$t=(0,n.Lk)("h3",null,"Товаров на складе нет",-1);function zt(e,t,l,a,r,d){const i=(0,n.g2)("center");return 0!==l.existingProducts.length?((0,n.uX)(),(0,n.CE)("div",Dt,[(0,n.Lk)("table",Ht,[Jt,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.existingProducts,(e=>((0,n.uX)(),(0,n.CE)("tr",null,[(0,n.Lk)("td",null,(0,g.v_)(e.name),1),(0,n.Lk)("td",null,(0,g.v_)(e.quantity),1),(0,n.Lk)("td",null,(0,g.v_)(e.price),1),(0,n.Lk)("td",null,(0,g.v_)(e.orderId),1)])))),256))])])):((0,n.uX)(),(0,n.CE)("div",Vt,[(0,n.bF)(i,null,{default:(0,n.k6)((()=>[$t])),_:1})]))}const Gt={props:["existingProducts"]},Yt=(0,D.A)(Gt,[["render",zt]]),Zt=Yt,el={components:{ExistingProducts:Zt,OrderingMaterials:Xe,ExistingMaterials:Ut},data:()=>({existingProducts:[],existingMaterial:[]}),mounted(){this.getExistingProducts(),this.getExistingMaterial()},methods:{showAddingRecipe(e){let t=document.getElementsByClassName("accordion")[e];t.classList.toggle("active");let l=t.nextElementSibling;l.style.maxHeight?l.style.maxHeight=null:l.style.maxHeight="100%"},getExistingProducts(){L.A.get("http://localhost:8080/api/v1/get-product-in-warehouse").then((e=>{this.existingProducts=e.data,console.log(this.existingProducts)}))},getExistingMaterial(){L.A.get("http://localhost:8080/api/v1/get-material").then((e=>{this.existingMaterial=e.data,console.log(this.existingMaterial)}))}}},tl=(0,D.A)(el,[["render",Rt],["__scopeId","data-v-009380f7"]]),ll=tl,al=e=>((0,n.Qi)("data-v-443dadf4"),e=e(),(0,n.jt)(),e),nl={class:"main"},rl=al((()=>(0,n.Lk)("h1",null,"Нечего показать",-1)));function dl(e,t){const l=(0,n.g2)("center");return(0,n.uX)(),(0,n.CE)("div",nl,[(0,n.bF)(l,null,{default:(0,n.k6)((()=>[rl])),_:1})])}const il={},sl=(0,D.A)(il,[["render",dl],["__scopeId","data-v-443dadf4"]]),ol=sl;function cl(e,t,l,a,r,d){const i=(0,n.g2)("NewOrder");return(0,n.uX)(),(0,n.Wv)(i,{onSendNewOrder:d.sendNewOrder,productProduced:r.productProduced},null,8,["onSendNewOrder","productProduced"])}const ul=e=>((0,n.Qi)("data-v-228c4a3e"),e=e(),(0,n.jt)(),e),pl={class:"contentBlock"},kl=ul((()=>(0,n.Lk)("h1",{class:"blockTitle"},"Заказ",-1))),hl={class:"orderDetail"},Ll={class:"productsProduced"},gl={class:"selectors"},ml=ul((()=>(0,n.Lk)("p",null,"Товар",-1))),vl=ul((()=>(0,n.Lk)("option",{selected:"",disabled:"",hidden:""},"Выбери",-1))),bl=["value"],_l=ul((()=>(0,n.Lk)("p",null,"Количество",-1))),fl=ul((()=>(0,n.Lk)("p",null,"Дедлайн",-1))),Cl={class:"aboutProduct"},Ol=ul((()=>(0,n.Lk)("p",null,"Выбранно",-1))),yl={class:"details"},Pl=ul((()=>(0,n.Lk)("hr",null,null,-1)));function Ml(e,t,l,r,d,i){const s=(0,n.g2)("center");return(0,n.uX)(),(0,n.CE)("div",pl,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[kl])),_:1}),(0,n.Lk)("div",hl,[(0,n.Lk)("div",Ll,[(0,n.Lk)("div",gl,[ml,(0,n.Lk)("select",{onChange:t[0]||(t[0]=e=>i.onChangeSelectorProduct(e))},[vl,((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.productProduced,(e=>((0,n.uX)(),(0,n.CE)("option",{value:l.productProduced.indexOf(e)},(0,g.v_)(e.name),9,bl)))),256))],32),_l,(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=e=>d.quantityProduct=e),min:"0"},null,512),[[a.Jo,d.quantityProduct]]),fl,(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>d.deadline=e)},null,512),[[a.Jo,d.deadline]])])]),(0,n.Lk)("div",Cl,[(0,n.bF)(s,null,{default:(0,n.k6)((()=>[Ol])),_:1}),(0,n.Lk)("div",yl,[(0,n.Lk)("p",null,"Название: "+(0,g.v_)(d.selectedProductName),1),(0,n.Lk)("p",null,"Количество: "+(0,g.v_)(d.quantityProduct),1),Pl,(0,n.Lk)("p",null,"Итоговая стоимость: "+(0,g.v_)(Number(d.selectedProductPrice.toFixed(2))),1)]),(0,n.Lk)("button",{class:"orderBtn",onClick:t[3]||(t[3]=(...e)=>i.sendNewOrder&&i.sendNewOrder(...e))},"Заказать")])])])}const El={props:["productProduced"],data(){return{deadline:"",quantityProduct:0,selectedProductName:"",selectedProductPrice:0,selectedProduct:[]}},methods:{onChangeSelectorProduct(e){let t=this.productProduced[e.target.value];this.selectedProduct={id:t.id,name:t.name,price:t.price}},sendNewOrder(){let e={productId:this.selectedProduct.id,name:this.selectedProduct.name,quantity:this.quantityProduct,deadline:new Date(this.deadline),dateOfOrder:new Date};this.$emit("sendNewOrder",e),this.deadline="",this.quantityProduct=0,this.selectedProductName="",this.selectedProductPrice=0},changeSelectedProductName(){this.selectedProductName=this.selectedProduct.name,this.selectedProductPrice=this.selectedProduct.price*this.quantityProduct}},watch:{quantityProduct:{handler(e,t){this.changeSelectedProductName()}},selectedProduct:{handler(e,t){this.changeSelectedProductName()},deep:!0}}},Fl=(0,D.A)(El,[["render",Ml],["__scopeId","data-v-228c4a3e"]]),Il=Fl,xl={components:{NewOrder:Il},data(){return{productProduced:[]}},mounted(){this.getAllProducts()},methods:{sendNewOrder(e){L.A.post("http://localhost:8080/api/v1/create-new-order",e)},getAllProducts(){L.A.get("http://localhost:8080/api/v1/get-all-recipe").then((e=>this.productProduced=e.data))}}},Nl=(0,D.A)(xl,[["render",cl]]),Al=Nl,Xl=[{path:"/",name:"StartScreen",component:ol},{path:"/recipes",name:"Recipes",component:ne},{path:"/orders",name:"Orders",component:It},{path:"/warehouse",name:"Warehouse",component:ll},{path:"/customer-screen",name:"CustomerScreen",component:Al}],wl=(0,ke.aE)({history:(0,ke.LA)(),routes:Xl}),Wl=wl;(0,a.Ef)(pe).use(Wl).mount("#app")}},t={};function l(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,l),r.exports}l.m=e,(()=>{var e=[];l.O=(t,a,n,r)=>{if(!a){var d=1/0;for(c=0;c<e.length;c++){for(var[a,n,r]=e[c],i=!0,s=0;s<a.length;s++)(!1&r||d>=r)&&Object.keys(l.O).every((e=>l.O[e](a[s])))?a.splice(s--,1):(i=!1,r<d&&(d=r));if(i){e.splice(c--,1);var o=n();void 0!==o&&(t=o)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,n,r]}})(),(()=>{l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{l.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var n,r,[d,i,s]=a,o=0;if(d.some((t=>0!==e[t]))){for(n in i)l.o(i,n)&&(l.m[n]=i[n]);if(s)var c=s(l)}for(t&&t(a);o<d.length;o++)r=d[o],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(c)},a=self["webpackChunkknitting_factory_front"]=self["webpackChunkknitting_factory_front"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=l.O(void 0,[504],(()=>l(105)));a=l.O(a)})();
//# sourceMappingURL=app.16e04b45.js.map